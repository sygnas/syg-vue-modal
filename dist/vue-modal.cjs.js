"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("vue");const p=e.ref([]),g=a=>{let l=p.value.find(o=>o.id===a);return l||(p.value.push({id:a,isOpen:!1,scrollContainer:void 0}),p.value.find(o=>o.id===a))},v=(a,l)=>{const o=g(a),n=e.computed(()=>o.isOpen);return e.watch(n,t=>{t&&l&&l.onOpen!==void 0?l.onOpen(o.id):!t&&l&&l.onClose!==void 0&&l.onClose(o.id)}),{open:()=>{o.isOpen=!0,document.body.style.overflow="hidden"},close:()=>{o.isOpen=!1,document.body.style.overflow="auto"},scroll:(t,r=!1)=>{const _=o.scrollContainer;return _?(_.scroll({top:t,behavior:r?"smooth":"instant"}),!0):!1},setScrollContainer:t=>{o.scrollContainer=t},isOpen:n}},y="_modal_569np_1",b="_modal__bg_569np_9",M="_modal__slide_569np_17",S="_modal__content_569np_28",B="_modal__close_btn_569np_32";var d={modal:y,modal__bg:b,modal__slide:M,modal__content:S,modal__close_btn:B};const O=["innerHTML"],k=e.defineComponent({props:{id:null,option:null},setup(a){const l=a,o={closeBtnText:"X",classModal:"c-modal",classBg:"c-modal__bg",classSlide:"c-modal__slide",classContent:"c-modal__content",classClose:"c-modal__close-btn",styleBgColor:"rgba(0, 0, 0, .7)",styleZIndex:1e4,transitionBaseName:"syg-modal-fade"},n=e.computed(()=>Object.assign({},o,l.option)),u=e.ref({});u.value={"--modal--bg-color":n.value.styleBgColor,"--modal--z-index":n.value.styleZIndex};const i=e.ref(null),m=e.ref(null),f=()=>{const s=i.value,c=m.value;s===null||c===null||(s.clientHeight<c.clientHeight?s.style.alignItems="flex-start":s.style.alignItems="center")};let t=0;const r=v(l.id,{onOpen:s=>{r.setScrollContainer(i),setTimeout(f,50),t=setInterval(f,500)},onClose:s=>{clearInterval(t)}}),_=e.computed(()=>r.isOpen.value),C=()=>{r.close()};return(s,c)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{name:e.unref(n).transitionBaseName},{default:e.withCtx(()=>[e.unref(_)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(d).modal,e.unref(n).classModal]),style:e.normalizeStyle(u.value)},[e.createElementVNode("span",{class:e.normalizeClass([e.unref(d).modal__bg,e.unref(n).classBg]),onClick:C},null,2),e.createElementVNode("div",{class:e.normalizeClass([e.unref(d).modal__slide,e.unref(n).classSlide]),onClick:C,ref_key:"scrollContainer",ref:i},[e.createElementVNode("div",{class:e.normalizeClass([e.unref(d).modal__content,e.unref(n).classContent]),onClick:c[0]||(c[0]=e.withModifiers(()=>{},["stop"])),ref_key:"contentContainer",ref:m},[e.renderSlot(s.$slots,"default")],2)],2),e.createElementVNode("button",{class:e.normalizeClass([e.unref(d).modal__close_btn,e.unref(n).classClose]),onClick:C,innerHTML:e.unref(n).closeBtnText},null,10,O)],6)):e.createCommentVNode("",!0)]),_:3},8,["name"])]))}});exports.VueModal=k;exports.useModalControl=v;
//# sourceMappingURL=vue-modal.cjs.js.map
