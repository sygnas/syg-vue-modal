"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("vue");const v=e.ref([]),g=r=>{let n=v.value.find(l=>l.id===r);return n||(v.value.push({id:r,isOpen:!1,scrollContainer:void 0}),v.value.find(l=>l.id===r))},p=(r,n)=>{const l=g(r),o=e.computed(()=>l.isOpen);return e.watch(o,t=>{t&&n&&n.onOpen!==void 0?n.onOpen(l.id):!t&&n&&n.onClose!==void 0&&n.onClose(l.id)}),{open:()=>{l.isOpen=!0,document.body.style.overflow="hidden"},close:()=>{l.isOpen=!1,document.body.style.overflow="auto"},scroll:(t,_=!1)=>{const c=l.scrollContainer;return c?(c.scroll({top:t,behavior:_?"smooth":"instant"}),!0):!1},setScrollContainer:t=>{l.scrollContainer=t},isOpen:o}},y="_modal_e1eb1_1",S="_modal__bg_e1eb1_8",M="_modal__slide_e1eb1_16",O="_modal__content_e1eb1_27",k="_modal__close_btn_e1eb1_31";var d={modal:y,modal__bg:S,modal__slide:M,modal__content:O,modal__close_btn:k};const h=["innerHTML"],B=e.defineComponent({props:{id:null,option:null},setup(r){const n=r,l={closeBtnText:"X",classModal:"c-modal",classBg:"c-modal__bg",classSlide:"c-modal__slide",classContent:"c-modal__content",classClose:"c-modal__close-btn",styleZIndex:1e4,transitionBaseName:"syg-modal-fade",autoAlign:!0},o=e.computed(()=>Object.assign({},l,n.option)),m=e.ref({});m.value={zIndex:`var(--modal--z-index, ${o.value.styleZIndex})`};const i=e.ref(null),f=e.ref(null),u=s=>{const a=i.value;a!==null&&(a.style.alignItems=s)},t=()=>{const s=i.value,a=f.value;s===null||a===null||(s.clientHeight<a.clientHeight?u("flex-start"):u("center"))};let _=0;const c=p(n.id,{onOpen:s=>{c.setScrollContainer(i),o.value.autoAlign?(setTimeout(t,50),_=setInterval(t,500)):setTimeout(()=>{u("flex-start")},50)},onClose:s=>{o.value.autoAlign&&clearInterval(_)}}),b=e.computed(()=>c.isOpen.value),C=()=>{c.close()};return(s,a)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{name:e.unref(o).transitionBaseName},{default:e.withCtx(()=>[e.unref(b)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(d).modal,e.unref(o).classModal]),style:e.normalizeStyle(m.value)},[e.createElementVNode("span",{class:e.normalizeClass([e.unref(d).modal__bg,e.unref(o).classBg]),onClick:C},null,2),e.createElementVNode("div",{class:e.normalizeClass([e.unref(d).modal__slide,e.unref(o).classSlide]),onClick:C,ref_key:"scrollContainer",ref:i},[e.createElementVNode("div",{class:e.normalizeClass([e.unref(d).modal__content,e.unref(o).classContent]),onClick:a[0]||(a[0]=e.withModifiers(()=>{},["stop"])),ref_key:"contentContainer",ref:f},[e.renderSlot(s.$slots,"default")],2)],2),e.createElementVNode("button",{class:e.normalizeClass([e.unref(d).modal__close_btn,e.unref(o).classClose]),onClick:C,innerHTML:e.unref(o).closeBtnText},null,10,h)],6)):e.createCommentVNode("",!0)]),_:3},8,["name"])]))}});exports.VueModal=B;exports.useModalControl=p;
//# sourceMappingURL=vue-modal.cjs.js.map
